<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A Gift For You</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden;
    }
    body {
      font-family: 'Gaegu', cursive;
      background-color: #FFF5E4;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    #app {
      width: 90vw;
      height: 90vh;
      position: relative;
      border-radius: 24px;
      background: #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    .page {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2rem;
      gap: 2rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease, transform 0.4s ease;
      transform: scale(1.05);
    }
    .page.active { opacity: 1; visibility: visible; transform: scale(1); }

    .button-style {
      background-color: #87CEFA;
      border: 2px solid #5bb0e8;
      color: #fff;
      font-weight: 700;
      padding: 14px 32px;
      font-size: 1.2rem;
      border-radius: 16px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
    }
    .button-style:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    #noBtn {
      background-color: #FFC0CB;
      border-color: #FF81A7;
      color: #4A4A4A;
    }
    .backBtn {
      background-color: #87CEFA;
      border-color: #5bb0e8;
      margin-top: auto;            /* push down */
      margin-bottom: 1.5rem;       /* spacing from bottom */
    }
    /* Flower + video sizing */
    #flowerImage {
      max-width: 70%;
      max-height: 65vh;
    }
    #flowerVideo {
      max-width: 70%;
      max-height: 65vh;
    }
    /* Page2 option buttons hover */
    #envelopeBtn:hover,
    #filmBtn:hover,
    #flowerBtn:hover {
      transform: scale(1.08);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }
  </style>
</head>
<body>

<div id="app">
  <!-- Page 1 -->
  <div id="page1" class="page active">
    <img src="1.png" alt="Cute character with hearts" class="max-w-xs">
    <h1 class="text-3xl font-bold text-gray-700">hi Lil monkeh</h1>
    <p class="text-xl text-gray-600">I got a gift for you. Would you like to see it?</p>
    <div class="flex space-x-6">
      <button id="yesBtn" class="button-style">YES PLEASE</button>
      <button id="noBtn" class="button-style">NO THANKS</button>
    </div>
  </div>

  <!-- Page 2 -->
  <div id="page2" class="page">
    <h1 class="text-3xl font-bold text-gray-700">THESE ARE FOR YOU!</h1>
    <p class="text-xl text-gray-600">I hope you like it mwehe</p>
    <p class="text-lg text-gray-500">choose a button :3</p>
    <div class="flex flex-col sm:flex-row items-center justify-center gap-6 pt-4">
      <button id="envelopeBtn" class="w-44 h-48 flex flex-col items-center justify-center p-4 border-2 border-pink-200 rounded-2xl bg-pink-50 transition-all">
        <img src="2.png" alt="An envelope" class="w-28 h-28 object-contain">
      </button>
      <button id="filmBtn" class="w-44 h-48 flex flex-col items-center justify-center p-4 border-2 border-blue-200 rounded-2xl bg-blue-50 transition-all">
        <img src="4.png" alt="A film strip" class="w-28 h-28 object-contain">
      </button>
      <button id="flowerBtn" class="w-44 h-48 flex flex-col items-center justify-center p-4 border-2 border-amber-200 rounded-2xl bg-amber-50 transition-all">
        <img src="5.png" alt="A flower bouquet" class="w-28 h-28 object-contain">
      </button>
    </div>
  </div>

  <!-- Page 3 -->
  <div id="page3" class="page">
    <div id="flowerVideoContainer" class="flex flex-col items-center justify-center w-full max-w-5xl gap-6">
      <!-- Tap text ABOVE -->
      <div id="tapMe" class="hidden text-center">
        <svg class="w-8 h-8 mx-auto text-gray-500 animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
        <p class="text-lg text-gray-600">tap the flower!</p>
      </div>

      <div id="flowerWrapper" class="flex flex-col items-center justify-center transition-all duration-700 ease-in-out w-full">
        <img id="flowerImage" src="3.png" alt="A bouquet of sunflowers" class="rounded-lg cursor-pointer hover:scale-105 transition-transform">
      </div>
      <div id="videoWrapper" class="flex items-center justify-center transition-all duration-700 ease-in-out w-0 overflow-hidden">
        <video id="flowerVideo" class="rounded-lg" controls playsinline>
          <source src="foryou.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    </div>
    <button class="backBtn button-style">BACK</button>
  </div>

  <!-- Page 4 -->
  <div id="page4" class="page">
    <h2 class="text-2xl sm:text-3xl font-bold text-gray-700">A Special Message For You</h2>
    <div id="messageContainer" class="mt-4 text-gray-700 text-xl hidden p-6 bg-yellow-100/50 rounded-lg min-h-[120px] w-full flex items-center justify-center"></div>
    <div id="messageLoader" class="hidden text-gray-600">
      <p>Thinking of the perfect words...</p>
    </div>
    <button id="generateMessageBtn" class="button-style">âœ¨ Read your message</button>
    <button class="backBtn button-style">BACK</button>
  </div>

  <!-- Page 5 -->
  <div id="page5" class="page">
    <div class="w-full p-6 bg-blue-200 rounded-lg shadow-inner">
      <div class="grid grid-cols-3 gap-3">
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
        <div class="flex flex-col items-center justify-center space-y-2 py-2">
          <img src="https://placehold.co/100x120/bde0fe/ffffff?text=Strip" class="border-4 border-white rounded-md" alt="placeholder">
          <img src="https://placehold.co/100x120/bde0fe/ffffff?text=Strip" class="border-4 border-white rounded-md" alt="placeholder">
        </div>
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
        <img src="https://placehold.co/120x140/a2d2ff/ffffff?text=Photo" class="rounded-md" alt="placeholder">
      </div>
    </div>
    <button class="backBtn button-style">BACK</button>
  </div>

  <!-- Page 6 -->
  <div id="page6" class="page">
    <img src="https://raw.githubusercontent.com/remyonescript/hehe/main/6.png" alt="Crying character" class="w-40 sm:w-56 object-cover rounded-full">
    <p class="text-xl text-gray-600">I promise you'll like it</p>
    <button id="tryAgainBtn" class="button-style">TRY AGAIN</button>
  </div>
</div>

<script>
  const pages = document.querySelectorAll('.page');
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const tryAgainBtn = document.getElementById('tryAgainBtn');
  const envelopeBtn = document.getElementById('envelopeBtn');
  const filmBtn = document.getElementById('filmBtn');
  const flowerBtn = document.getElementById('flowerBtn');
  const backBtns = document.querySelectorAll('.backBtn');

  const generateMessageBtn = document.getElementById('generateMessageBtn');
  const messageContainer = document.getElementById('messageContainer');
  const messageLoader = document.getElementById('messageLoader');

  const flowerImage = document.getElementById('flowerImage');
  const tapMe = document.getElementById('tapMe');
  const flowerWrapper = document.getElementById('flowerWrapper');
  const videoWrapper = document.getElementById('videoWrapper');
  const flowerVideo = document.getElementById('flowerVideo');

  function showPage(pageId) {
    pages.forEach(page => page.classList.toggle('active', page.id === pageId));
  }

  async function generateMessage() {
    generateMessageBtn.disabled = true;
    messageLoader.classList.remove('hidden');
    messageContainer.classList.add('hidden');
    messageContainer.textContent = '';

    try {
      // Placeholder text if API is not set
      messageContainer.textContent = "You're the sweetest, Lil monkeh! Mwehe!";
    } catch {
      messageContainer.textContent = "You're amazing! Mwehe.";
    } finally {
      messageLoader.classList.add('hidden');
      messageContainer.classList.remove('hidden');
      generateMessageBtn.classList.add('hidden');
    }
  }

  function resetFlowerPage() {
    flowerVideo.pause();
    flowerVideo.currentTime = 0;
    flowerWrapper.classList.remove('w-1/2');
    flowerWrapper.classList.add('w-full');
    videoWrapper.classList.remove('w-1/2');
    videoWrapper.classList.add('w-0');
    tapMe.classList.add('hidden');
  }

  yesBtn.addEventListener('click', () => showPage('page2'));
  noBtn.addEventListener('click', () => showPage('page6'));
  tryAgainBtn.addEventListener('click', () => showPage('page1'));
  envelopeBtn.addEventListener('click', () => showPage('page4'));
  filmBtn.addEventListener('click', () => showPage('page5'));

  flowerBtn.addEventListener('click', () => {
    showPage('page3');
    setTimeout(() => tapMe.classList.remove('hidden'), 800);
  });

  flowerImage.addEventListener('click', () => {
    tapMe.classList.add('hidden');
    flowerWrapper.classList.replace('w-full', 'w-1/2');
    videoWrapper.classList.replace('w-0', 'w-1/2');
    setTimeout(() => {
      flowerVideo.currentTime = 0;
      flowerVideo.play().catch(() => {});
    }, 500);
  });

  generateMessageBtn.addEventListener('click', generateMessage);

  backBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      messageContainer.classList.add('hidden');
      messageContainer.textContent = '';
      generateMessageBtn.classList.remove('hidden');
      generateMessageBtn.disabled = false;
      if (btn.closest('#page3')) resetFlowerPage();
      showPage('page2');
    });
  });

  showPage('page1');
</script>
</body>
</html>
